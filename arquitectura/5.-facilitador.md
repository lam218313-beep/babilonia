Bibliotecas Soportadas:
Revit API (Python/IronPython): Genera scripts para ejecutar en Dynamo o PyRevit.
Excel (VBA/Pandas): Genera macros o archivos .xlsx complejos con fórmulas activas.
AutoCAD/Civil3D (AutoLISP/Python): Para planos 2D.
2.2. Sandbox de Validación (The Compiler) Antes de entregar un script al usuario, debemos asegurar que no tenga errores de sintaxis.
Entorno Aislado: Un contenedor Docker seguro donde el Facilitador intenta "compilar" o analizar estáticamente el código generado.
Lógica:
Si genera un script de Python, corre un linter (pylint) para verificar que no falten paréntesis o importaciones.
Nota: No puede ejecutar el script de Revit completo (porque no tiene Revit instalado en la nube), pero sí puede validar la lógica del código.
2.3. Conversor de Formatos (The Exporter) Para datos que no requieren scripts, sino importación directa.
Manejador IFC: Utiliza librerías como IfcOpenShell para escribir archivos .ifc reales desde cero. Esto permite que el usuario descargue un modelo 3D básico que puede abrir en CUALQUIER software BIM.
Generador CSV/TXT: Estructura datos para "Importar Coordenadas" o "Crear Familias desde TXT".
3. Flujo de Datos (Data Flow) - Ejemplo: "Crear Niveles en Revit" Input (del Ejecutor):
JSON: {"proyecto": "Hospital", "niveles": [{"nombre": "Nivel 1", "cota": 0.0}, {"nombre": "Nivel 2", "cota": 3.5}, {"nombre": "Azotea", "cota": 7.0}]}.
Selección de Estrategia (Facilitador):
Detecta que el usuario prefiere Revit/Dynamo.
Generación de Código (Scripter):
Redacta un script de Python que:
Importa Autodesk.Revit.DB.
Abre una transacción (TransactionManager).
Itera sobre el JSON y ejecuta Level.Create().
Cierra la transacción.
Empaquetado:
Guarda el código en un archivo crear_niveles.py.
Genera un pequeño readme.txt con instrucciones: "Abre Revit, carga Dynamo, pega este nodo Python...".
Entrega: El usuario descarga un .zip con el script listo para usar.
4. Stack Tecnológico Sugerido Generación de Código: Modelos entrenados en código como CodeGemma o Gemini 1.5 Pro (tienen excelente conocimiento de la API de Revit).
Manipulación de Archivos:
Pandas (Python) para Excel/CSV.
IfcOpenShell (Python) para generar IFCs.
DXFWrite para generar planos CAD simples.
Interfaz de Usuario (Frontend):
Un botón de "Exportar a..." que permite elegir: Revit (Script), Excel, IFC, PDF.